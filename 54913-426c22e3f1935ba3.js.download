"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ef43ff24-9eac-546f-86e4-9d63bbffb848")}catch(e){}}();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54913],{951517:(e,t,a)=>{a.d(t,{R:()=>l});var s=a(598797),i=a(517114),o=a(795407),n=a(870541);let r=e=>"month"===e.frequency.interval&&1===e.frequency.intervalCount,d=e=>e?.billing?.plan==="hobby";function l(e){let t=(0,n.F)(e?.billing);if(d(e))return{start:(0,s.Z)((0,i.Z)(t,30)).getTime(),end:(0,o.Z)(t).getTime()};let{start:a,end:l}=e?.billing?.subscriptions?.find(r)?.period??e?.billing?.period??{};return{start:a,end:l}}},575529:(e,t,a)=>{a.d(t,{MC:()=>n,O5:()=>s,ax:()=>i,dV:()=>r,hY:()=>o,ub:()=>d});let s="usage-limit",i="30 days",o={LOW:50,MEDIUM:75,HIGH:100},n={LOW:50,MEDIUM:75,HIGH:95},r={SERVERLESS:"serverless-functions",NETWORK:"networking",EDGE_MIDDLEWARE:"edge-middleware",EDGE_FUNCTIONS:"edge-functions",BUILDS:"builds",ARTIFACTS:"artifacts",IMAGES:"image-optimization",MONITORING:"monitoring",LOG_DRAINS:"log-drain"},d={[r.LOG_DRAINS]:{LOW:50,MEDIUM:75,HIGH:100}}},402003:(e,t,a)=>{a.d(t,{G:()=>w,n:()=>v});var s=a(996577),i=a(784911),o=a(951517),n=a(702804),r=a(63592),d=a(542788),l=a(68015),g=a(688758),u=a.n(g),c=a(203233);let b=e=>{let t=u()(e,"timestamp"),a=0,s=Object.keys(t).reduce((e,s)=>{let i;let o=t[s];if(s.endsWith("Z"))i=c.ou.fromISO(s).toJSDate();else{let e=`${s.split(" ").join("T")}.000Z`;i=c.ou.fromISO(e).toJSDate()}let n=o.reduce((e,t)=>e+t.count,0),r=o.map(e=>({name:e.projectName,id:e.projectId,title:e.projectName,percent:n?e.count/n:0})).sort((e,t)=>t.percent-e.percent),d=r.slice(0,3).map(e=>({...e,percent:Math.round(100*e.percent)})),l=r.slice(3).reduce((e,t)=>({...e,percent:e.percent+t.percent}),{id:null,name:"",title:"Other",percent:0});return d.push({...l,percent:Math.round(100*l.percent)}),a+=n,e.push({date:i.getTime(),sum:n,0:n,1:0,2:0,breakdown:d}),e},[]);return a?s:[]};var m=a(758917);function p(e){let{start:t,end:a,include:s=["bandwidth","execution"]}=e,i=new Set(s),o=i.has("bandwidth")||i.has("execution"),g=i.has("images"),u=i.has("artifacts"),c=i.has("edgeMiddleware"),p=i.has("edgeFunctions"),T=i.has("builds"),f=i.has("monitoring"),h=i.has("edgeConfigReads")||i.has("edgeConfigWrites"),v=i.has("cronJobInvocations"),w=i.has("dataCacheBandwidth"),_=i.has("webAnalyticsEvent"),{data:D,isLoading:y}=(0,d.iK)({type:"requests",start:t,end:a,skip:!o}),{data:R,isLoading:I}=(0,d.iK)({type:"artifacts",start:t,end:a,skip:!u}),{data:S,isLoading:C}=(0,d.iK)({type:"edge",start:t,end:a,skip:!c}),{data:B,isLoading:O}=(0,d.iK)({type:"edge",start:t,end:a,skip:!p,edgeInvocationType:"edge-function"}),{data:E,isLoading:A}=(0,d.iK)({type:"monitoring",start:t,end:a,skip:!f}),{data:x,isLoading:Z}=(0,d.iK)({type:"builds",start:t,end:a,skip:!T}),{data:U,isLoading:M}=(0,d.iK)({type:"edge_config",start:t,end:a,skip:!h}),{data:k,isLoading:q}=(0,l.A)({startDatetime:t,endDatetime:a,skip:!g}),{data:L,isLoading:W}=(0,d.iK)({start:t,end:a,type:"cron_jobs",skip:!v}),{data:z,isLoading:F}=(0,d.iK)({start:t,end:a,type:"data_cache",skip:!w}),{data:j,isLoading:N}=(0,m.z)({startDatetime:t,endDatetime:a,skip:!_}),P=(0,n.useMemo)(()=>({images:b(k?.data||[])}),[k?.data]),V=(0,r.ZP)("images",P),H=(0,r.ZP)("artifacts",R),G=(0,r.ZP)("bandwidth",D),J=(0,r.ZP)("builds",x),$=(0,r.ZP)("execution",D),K=(0,r.ZP)("edgeMiddleware",S),Q=(0,r.ZP)("edgeFunctions",B),Y=(0,r.ZP)("monitoring",E),X=(0,r.ZP)("edgeConfigReads",U),ee=(0,r.ZP)("edgeConfigWrites",U),et=(0,r.ZP)("cronJobInvocations",L),ea=(0,r.ZP)("dataCacheBandwidth",z),es=(0,r.ZP)("dataCacheRevalidations",z),ei=j.usage,eo={artifacts:R,bandwidth:D,builds:x,execution:D,images:k,edgeMiddleware:S,edgeFunctions:B,monitoring:E,edgeConfigReads:U,edgeConfigWrites:U,cronJobInvocations:L,dataCacheBandwidth:z,dataCacheRevalidations:z,postgresDatabase:void 0,postgresComputeTime:void 0,postgresDataStorage:void 0,postgresDataTransfer:void 0,postgresWrittenData:void 0,storageRedisTotalCommands:void 0,storageRedisTotalBandwidthInBytes:void 0,storageRedisTotalDailyAvgStorageInBytes:void 0,storageRedisTotalDatabases:void 0,webAnalyticsEvent:ei,speedInsightsDataPoint:void 0};return{metricsAvailable:s.map(e=>eo[e]).every(Boolean),artifactMeta:H,bandwidthMeta:G,buildsMeta:J,executionsMeta:$,imagesMeta:V,edgeMiddlewareMeta:K,edgeFunctionsMeta:Q,monitoringMeta:Y,edgeConfigReadsMeta:X,edgeConfigWritesMeta:ee,cronJobInvocationsMeta:et,dataCacheBandwidthMeta:ea,webAnalyticsMeta:ei,isLoading:y||I||C||O||A||Z||M||q||W||F||N,dataCacheRevalidationsMeta:es}}var T=a(575529);function f(e){let{usage:t,override:a,type:s,THRESHOLD:i}=e,{percentage:o}=t,n=void 0===a?o??0:a;return n>=i.HIGH?{threshold:i.HIGH,percent:n,type:s}:n>=i.MEDIUM?{threshold:i.MEDIUM,percent:n,type:s}:n>=i.LOW?{threshold:i.LOW,percent:n,type:s}:{threshold:0,percent:n,type:s}}function h(e){let{data:t,overrides:a,THRESHOLD:s,thresholdOverrides:i,isReady:o}=e,n=f({THRESHOLD:s,usage:t.artifacts,type:T.dV.ARTIFACTS,override:a.artifacts?Number(a.artifacts):void 0}),r=f({THRESHOLD:s,usage:t.bandwidth,type:T.dV.NETWORK,override:a.bandwidth?Number(a.bandwidth):void 0}),d=f({THRESHOLD:s,usage:t.builds,type:T.dV.BUILDS,override:a.builds?Number(a.builds):void 0}),l=f({THRESHOLD:s,usage:t.executions,type:T.dV.SERVERLESS,override:a.executions?Number(a.executions):void 0}),g=f({THRESHOLD:s,usage:t.edgeMiddleware,type:T.dV.EDGE_MIDDLEWARE,override:a.edgeMiddleware?Number(a.edgeMiddleware):void 0}),u=function(e){let t=e[0];for(let a of e)a.percent>t.percent&&(t=a);return t}([n,r,d,l,g,f({THRESHOLD:s,usage:t.edgeFunctions,type:T.dV.EDGE_FUNCTIONS,override:a.edgeFunctions?Number(a.edgeFunctions):void 0}),f({THRESHOLD:s,usage:t.images,type:T.dV.IMAGES,override:a.images?Number(a.images):void 0}),f({THRESHOLD:s,usage:t.monitoring,type:T.dV.MONITORING,override:a.monitoring?Number(a.monitoring):void 0})]),c=i?.[u.type]??s;return u.threshold>=c.LOW?{isReady:o,shouldNotify:!0,threshold:u.threshold,percentage:u.percent,type:u.type}:{isReady:o,shouldNotify:!1,type:u.type}}function v(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{account:t,isLoading:a}=(0,i.m)(),n=(0,s.useSearchParams)(),r=!a,d=n?.get("trialUsageLimitArtifactsOverride")??void 0,l=n?.get("trialUsageLimitBandwidthOverride")??void 0,g=n?.get("trialUsageLimitBuildsOverride")??void 0,u=n?.get("trialUsageLimitExecutionsOverride")??void 0,c=n?.get("trialUsageLimitMiddlewareOverride")??void 0,b=n?.get("trialUsageLimitEdgeFunctionsOverride")??void 0,m=n?.get("trialUsageLimitImagesOverride")??void 0,f=n?.get("trialUsageLimitMonitoringOverride")??void 0,v=n?.get("trialUsageLimitLogDrainsOverride")??void 0,w=d||l||g||u||c||b||m||f||v,_=e||!w&&(!r||t?.billing?.plan!=="pro"||"trialing"!==t.billing.status||!t.billing.trial),{start:D,end:y}=(0,o.R)(t),R=[];d||R.push("artifacts"),l||R.push("bandwidth"),g||R.push("builds"),u||R.push("execution"),c||R.push("edgeMiddleware"),b||R.push("edgeFunctions"),m||R.push("images"),f||R.push("monitoring"),v||R.push("logDrainsVolume");let{artifactMeta:I,bandwidthMeta:S,buildsMeta:C,executionsMeta:B,edgeMiddlewareMeta:O,edgeFunctionsMeta:E,imagesMeta:A,metricsAvailable:x,monitoringMeta:Z}=p({start:D,end:y,include:_?[]:R});return t?.billing?.plan==="pro"&&"trialing"===t.billing.status&&t.billing.trial&&x&&r||w&&!a?h({data:{artifacts:I,bandwidth:S,builds:C,executions:B,edgeMiddleware:O,edgeFunctions:E,images:A,monitoring:Z},overrides:{artifacts:d,bandwidth:l,builds:g,executions:u,edgeMiddleware:c,edgeFunctions:b,images:m,monitoring:f},THRESHOLD:T.MC,thresholdOverrides:T.ub,isReady:r}):{isReady:r,shouldNotify:!1}}function w(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{account:a,isLoading:n}=(0,i.m)(),r=(0,s.useSearchParams)(),d=!n,l=r?.get("hobbyUsageLimitArtifactsOverride")??void 0,g=r?.get("hobbyUsageLimitBandwidthOverride")??void 0,u=r?.get("hobbyUsageLimitBuildsOverride")??void 0,c=r?.get("hobbyUsageLimitExecutionsOverride")??void 0,b=r?.get("hobbyUsageLimitMiddlewareOverride")??void 0,m=r?.get("hobbyUsageLimitEdgeFunctionOverride")??void 0,f=r?.get("hobbyUsageLimitImagesOverride")??void 0,v=r?.get("hobbyUsageLimitDataCacheOverride")??void 0,w=l||g||u||c||b||m||f,_=e||!w&&(!d||a?.billing?.plan!=="hobby");0!==t.length||(l||t.push("artifacts"),g||t.push("bandwidth"),u||t.push("builds"),c||t.push("execution"),b||t.push("edgeMiddleware"),m||t.push("edgeFunctions"),f||t.push("images"),v||t.push("dataCacheBandwidth"));let{start:D,end:y}=(0,o.R)(a),{artifactMeta:R,bandwidthMeta:I,buildsMeta:S,executionsMeta:C,edgeMiddlewareMeta:B,edgeFunctionsMeta:O,imagesMeta:E,metricsAvailable:A,monitoringMeta:x}=p({start:D,end:y,include:_?[]:t});return a?.billing?.plan==="hobby"&&d&&A||w&&!n?h({data:{artifacts:R,builds:S,bandwidth:I,executions:C,edgeMiddleware:B,edgeFunctions:O,images:E,monitoring:x},overrides:{artifacts:l,builds:u,bandwidth:g,executions:c,edgeMiddleware:b,edgeFunctions:m,images:f},THRESHOLD:T.hY,isReady:d}):{isReady:d,shouldNotify:!1}}},870541:(e,t,a)=>{a.d(t,{F:()=>s});function s(e){return 1e3*(e?.frozenTime??Math.floor(Date.now()/1e3))}},367577:(e,t,a)=>{a.d(t,{I:()=>i});let s=!1;function i(){return!!s||"undefined"!=typeof document&&!!document.hidden}window.addEventListener("beforeunload",()=>{s=!0,setTimeout(()=>{s=!1},50)})},851297:(e,t,a)=>{a.d(t,{M:()=>m,O:()=>b,SWRResetState:()=>g});var s=a(430751),i=a(56161),o=a(62571),n=a(702804);let r=0,d=new Map,l=null;function g(){let e=(0,o.usePathname)();return(0,n.useEffect)(()=>{r=0,d.clear(),l?.setHiding()},[e]),null}let u=null;function c(e){if(u&&clearTimeout(u),l=e,r>1){u=setTimeout(()=>{document.hidden||e.setMessage({key:"fetch-swr-loading",preserve:!0,text:(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)(i.$,{}),(0,s.jsx)("span",{children:"\xa0\xa0Failed to load data, retrying..."})]})})},500);return}e.setHiding()}function b(e,t){d.get(e)||(d.set(e,!0),++r,c(t))}function m(e,t){d.get(e)&&(d.set(e,!1),--r,c(t))}},63592:(e,t,a)=>{a.d(t,{Hw:()=>b,ub:()=>u,ZP:()=>p,fW:()=>m});var s=a(702804),i=a(784911),o=a(215049);let n={bandwidth:"bandwidth",execution:"serverlessFunctionExecution",images:"sourceImages",artifacts:"artifacts",edgeMiddleware:"edgeMiddlewareInvocations",edgeFunctions:"edgeFunctionExecutionUnits",monitoring:"monitoringMetric",edgeConfigReads:"edgeConfigRead",edgeConfigWrites:"edgeConfigWrite",postgresDatabase:"postgresDatabase",postgresComputeTime:"postgresComputeTime",postgresDataStorage:"postgresDataStorage",postgresDataTransfer:"postgresDataTransfer",postgresWrittenData:"postgresWrittenData",storageRedisTotalCommands:"storageRedisTotalCommands",storageRedisTotalBandwidthInBytes:"storageRedisTotalBandwidthInBytes",storageRedisTotalDailyAvgStorageInBytes:"storageRedisTotalDailyAvgStorageInBytes",storageRedisTotalDatabases:"storageRedisTotalDatabases",cronJobInvocations:"cronJobInvocation",dataCacheBandwidth:"dataCacheBandwidth",dataCacheRevalidations:"dataCacheRevalidations",logDrainsVolume:"logDrainsUsage",speedInsightsDataPoint:"analyticsUsage",webAnalyticsEvent:"webAnalyticsEvent",blobTotalAdvancedRequests:"blobTotalAdvancedRequests",blobTotalSimpleRequests:"blobTotalSimpleRequests",blobTotalGetResponseObjectSizeInBytes:"blobTotalGetResponseObjectSizeInBytes",blobTotalStores:"blobTotalStores",blobTotalAvgSizeInBytes:"blobTotalAvgSizeInBytes",fastDataTransfer:"fastDataTransfer",fastOriginTransfer:"fastOriginTransfer",edgeRequest:"edgeRequest",functionInvocation:"functionInvocation",functionDuration:"functionDuration",dataCacheRead:"dataCacheRead",dataCacheWrite:"dataCacheWrite",edgeRequestAdditionalCpuDuration:"edgeRequestAdditionalCpuDuration",wafOwaspRequests:"wafOwaspRequests",wafOwaspExcessBytes:"wafOwaspExcessBytes",wafEdgeRateLimits:"wafEdgeRateLimits"},r={bandwidth:"bandwidth",execution:"execution",images:"images",artifacts:"artifactsSize",edgeMiddleware:"workerInvocations",edgeFunctions:"edgeFunctionExecutionUnits",builds:"buildTime",monitoring:"monitoring",edgeConfigReads:"edgeConfigReads",edgeConfigWrites:"edgeConfigWrites",postgresDatabase:"postgresDatabase",postgresComputeTime:"postgresComputeTime",postgresDataStorage:"postgresDataStorage",postgresDataTransfer:"postgresDataTransfer",postgresWrittenData:"postgresWrittenData",storageRedisTotalCommands:"storageRedisTotalCommands",storageRedisTotalBandwidthInBytes:"storageRedisTotalBandwidthInBytes",storageRedisTotalDailyAvgStorageInBytes:"storageRedisTotalDailyAvgStorageInBytes",storageRedisTotalDatabases:"storageRedisTotalDatabases",cronJobInvocations:"cronJobInvocations",dataCacheBandwidth:"dataCacheBandwidth",dataCacheRevalidations:"dataCacheRevalidations",blobTotalAdvancedRequests:"blobTotalAdvancedRequests",blobTotalSimpleRequests:"blobTotalSimpleRequests",blobTotalGetResponseObjectSizeInBytes:"blobTotalGetResponseObjectSizeInBytes",blobTotalStores:"blobTotalStores",blobTotalAvgSizeInBytes:"blobTotalAvgSizeInBytes",logDrainsVolume:"logDrainsVolume"},d={bandwidth:"sum",execution:"sum",functionInvocation:"sum",functionDuration:"sum",images:"sum",artifacts:"0",edgeMiddleware:"sum",edgeFunctions:"sum",builds:"sum",monitoring:"sum",edgeConfigReads:"sum",edgeConfigWrites:"sum",postgresDatabase:"sum",postgresComputeTime:"sum",postgresDataStorage:"0",postgresDataTransfer:"sum",postgresWrittenData:"sum",storageRedisTotalCommands:"sum",storageRedisTotalBandwidthInBytes:"sum",storageRedisTotalDailyAvgStorageInBytes:"0",storageRedisTotalDatabases:"sum",cronJobInvocations:"sum",dataCacheBandwidth:"sum",dataCacheRevalidations:"sum",webAnalyticsEvent:"sum",speedInsightsDataPoint:"sum",blobTotalAdvancedRequests:"sum",blobTotalSimpleRequests:"sum",blobTotalGetResponseObjectSizeInBytes:"sum",blobTotalStores:"sum",blobTotalAvgSizeInBytes:"0",logDrainsVolume:"sum",wafOwaspRequests:"sum",wafOwaspExcessBytes:"sum",wafEdgeRateLimits:"sum"},l={bandwidth:100,builds:36e4,execution:100,images:1e3,artifacts:10,edgeMiddleware:1e6,edgeFunctions:5e5,monitoring:0,webAnalyticsEvent:2500,edgeConfigReads:5e4,edgeConfigWrites:250,postgresDatabase:1,postgresComputeTime:216e3,postgresDataStorage:256e6,postgresDataTransfer:256e6,postgresWrittenData:256e6,storageRedisTotalCommands:3e4,storageRedisTotalBandwidthInBytes:256e6,storageRedisTotalDailyAvgStorageInBytes:256e6,storageRedisTotalDatabases:1,cronJobInvocations:null,dataCacheBandwidth:1,dataCacheRevalidations:100,logDrainsVolume:0,speedInsightsDataPoint:1e4,blobTotalAdvancedRequests:5e4,blobTotalSimpleRequests:1e5,blobTotalGetResponseObjectSizeInBytes:5*1e9,blobTotalStores:1,blobTotalAvgSizeInBytes:2.5*1e8,fastDataTransfer:100,fastOriginTransfer:10,edgeRequest:1e6,dataCacheRead:1e6,dataCacheWrite:2e5,edgeRequestAdditionalCpuDuration:(0,o.Z)("1h"),functionInvocation:1e5,functionDuration:100,wafOwaspRequests:null,wafOwaspExcessBytes:null,wafEdgeRateLimits:null},g={bandwidth:null,builds:144e4,execution:null,images:5e3,artifacts:10,edgeMiddleware:1e6,edgeFunctions:1e6,monitoring:25e4,webAnalyticsEvent:25e3,edgeConfigReads:1e6,edgeConfigWrites:500,postgresDatabase:null,postgresComputeTime:100,postgresDataStorage:.512,postgresDataTransfer:.512,postgresWrittenData:.512,storageRedisTotalCommands:null,storageRedisTotalBandwidthInBytes:null,storageRedisTotalDailyAvgStorageInBytes:null,storageRedisTotalDatabases:null,cronJobInvocations:null,dataCacheBandwidth:5,dataCacheRevalidations:100,logDrainsVolume:null,speedInsightsDataPoint:null,blobTotalAdvancedRequests:1e7,blobTotalSimpleRequests:1e6,blobTotalGetResponseObjectSizeInBytes:10*1e9,blobTotalStores:5,blobTotalAvgSizeInBytes:10*1e9,fastDataTransfer:1e3,fastOriginTransfer:100,edgeRequest:1e7,dataCacheRead:1e7,dataCacheWrite:2e6,edgeRequestAdditionalCpuDuration:(0,o.Z)("1h"),functionInvocation:1e6,functionDuration:1e3,wafOwaspRequests:null,wafOwaspExcessBytes:null,wafEdgeRateLimits:null};function u(e){let{team:t,type:a,used:s,ignoreProDefaultLimits:i}=e,o=!t||t.billing?.plan==="hobby",r=t?.billing?.invoiceItems||{},d="builds"===a?"builds":n[a],u="builds"===d?null:r[d];"serverlessFunctionExecution"!==d||u||(u=r.functionDuration??null),"functionDuration"!==d||u||(u=r.serverlessFunctionExecution??null);let c=o?0:u?.batch??null,b=u?.price??null,m=i?null:g[a],p=o?l[a]:u?.threshold??m;p&&("bandwidth"===a||"artifacts"===a||"dataCacheBandwidth"===a||"fastDataTransfer"===a||"fastOriginTransfer"===a)&&(p*=1e9),p&&"functionDuration"===a&&(p*=36e8),p&&u&&"edgeRequestAdditionalCpuDuration"===d&&(p*=36e5);let T=null!==p&&s>p,f=null!==p&&p>0?Math.ceil(s/p*100):null;return{exceeded:T,increment:c,limit:p,percentage:f,used:s,pricePerIncrement:b}}function c(e){return e.reduce((e,t)=>e+t,0)}function b(e){return e.length?c(e)/e.length:0}function m(e){return e.reduce((e,t)=>Math.max(e,t),0)}function p(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,{team:o}=(0,i.m)(),n=(0,s.useMemo)(()=>(function(e){let{data:t,type:a,aggregator:s}=e;return t?s(t[r[a]].map(e=>{let t=d[a];if("sum"===t){if("sum"in e)return e.sum;throw Error("Invalid data point")}let s=e[t];if(Array.isArray(s)){let[e,t]=s;return 0===t?0:e/t}return s})):0})({type:e,data:t,aggregator:a}),[t,e,a]);return u({team:o,type:e,used:n})}},68015:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(157756),i=a(107366),o=a(478789),n=a(852951),r=a(386029);function d(e){let{endDatetime:t,startDatetime:a,projectId:d,skip:l,buckets:g}=e,{isReady:u,team:c}=(0,r.t7)();return(0,s.ZP)(()=>u&&!l&&a&&t&&(!g||g.length)?`${n.Vh}${(0,i.c)({owner_id:c?.id,teamId:c?.id,projectId:d,buckets:g,from:"object"==typeof a?a.toISOString():new Date(a).toISOString(),to:"object"==typeof t?t.toISOString():new Date(t).toISOString()})}`:null,e=>(0,o.Io)(e),{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:void 0})}new Date("2023-01-18T17:00:00.000Z").getTime()},542788:(e,t,a)=>{a.d(t,{e_:()=>D,h$:()=>_,iK:()=>w});var s=a(157756),i=a(136962),o=a(107366),n=a(478789),r=a(852951),d=a(386029),l=a(13527),g=a(106017),u=a(223489),c=a(851297),b=a(215049),m=a(367577);let p=(e,t,a)=>{let s;if(!(!(void 0===document.hidden||!document.hidden)||"cancelled"===e.message||(0,m.I)())&&!0!==e.missingToken&&!e.saml){switch(e.code){case"not_found":s=(0,b.Z)("30s");break;case"network_error":s=(0,b.Z)("10s");break;case"rate_limited":case"too_many_requests":s=(0,b.Z)("60s");break;case"not_acceptable":return;default:s=~~((Math.random()+.5)*(1<<Math.min(a.retryCount,8)))*(0,b.Z)("5s")}setTimeout(()=>void t(a),s)}},T={bandwidth:["bandwidth_outgoing_bytes","bandwidth_incoming_bytes"],requests:["request_hit_count","request_miss_count"],invocations:["function_invocation_successful_count","function_invocation_error_count","function_invocation_timeout_count"],edgeFunctionExecutionUnits:["edge_function_execution_units"],execution:["function_execution_successful_gb_hours","function_execution_error_gb_hours","function_execution_timeout_gb_hours"],workerInvocations:["worker_invocation_count"],throttles:["function_invocation_throttle_count"],buildTime:["build_build_seconds","build_queued_seconds"],buildNumber:["build_completed_count","build_failed_count"],images:["images_sources_count"],artifactsTaskDuration:["artifacts_downloaded_task_duration_ms","artifacts_local_cache_hit_task_duration_ms"],artifactsSize:["artifacts_downloaded_size_bytes","artifacts_uploaded_size_bytes"],artifactsCount:["artifacts_downloaded_count","artifacts_uploaded_count"],monitoring:["monitoring_metric_count"],edgeConfigReads:["edge_config_reads"],edgeConfigWrites:["edge_config_writes"],postgresDatabase:["postgres_databases"],postgresComputeTime:["postgres_compute_seconds"],postgresDataTransfer:["postgres_transfer_bytes"],postgresWrittenData:["postgres_written_bytes"],storageRedisTotalCommands:["redis_commands"],storageRedisTotalBandwidthInBytes:["redis_bandwidth_max_bytes"],storageRedisTotalDatabases:["redis_databases"],cronJobInvocations:["cron_job_invocations"],dataCacheBandwidth:["data_cache_total_received_bytes","data_cache_total_sent_bytes"],dataCacheRevalidations:["data_cache_total_revalidates"],blobTotalAdvancedRequests:["blob_advanced_request_count"],blobTotalSimpleRequests:["blob_simple_request_count"],blobTotalGetResponseObjectSizeInBytes:["blob_get_response_object_size_in_bytes"],blobTotalStores:["blob_stores"]},f={workerExecutionAvg:["worker_execution_time_avg"],storageRedisTotalDailyAvgStorageInBytes:["redis_storage_max_avg_bytes"],postgresDataStorage:["postgres_storage_byte_hours"],blobTotalAvgSizeInBytes:["blob_size_in_bytes"]},h={bandwidth:"bandwidth",requests:"requests",invocations:"function_invocations",execution:"function_execution",throttles:"function_throttle_count",workerExecutionAvg:"worker_execution_time_avg",workerInvocations:"worker_invocations",buildTime:"build_time",buildNumber:"build_count",images:"image_sources",artifactsSize:"artifacts_size_breakdown",artifactsCount:"artifacts_count_breakdown",artifactsTaskDuration:"artifacts_time_breakdown",monitoring:"monitoring",edgeConfigReads:"edge_config_reads",edgeConfigWrites:"edge_config_writes",postgresDatabase:"postgres_databases",postgresComputeTime:"postgres_compute_seconds",postgresDataStorage:"postgres_storage_byte_hours",postgresDataTransfer:"postgres_transfer_bytes",postgresWrittenData:"postgres_written_bytes",storageRedisTotalCommands:"redis_commands",storageRedisTotalBandwidthInBytes:"redis_bandwidth_max_bytes",storageRedisTotalDailyAvgStorageInBytes:"redis_storage_max_avg_bytes",storageRedisTotalDatabases:"redis_databases",cronJobInvocations:"cron_job_invocations",dataCacheBandwidth:"data_cache_bandwidth",dataCacheRevalidations:"data_cache_revalidations",blobDatabases:"blob_stores",blobTotalAvgSizeInBytes:"blob_size_in_bytes",blobTotalGetResponseObjectSizeInBytes:"blob_get_response_object_size_in_bytes",blobTotalAdvancedRequests:"blob_advanced_request_count",blobTotalSimpleRequests:"blob_simple_request_count"},v=e=>({revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:0,onError:(t,a)=>{let s=t.statusCode||t.status;404===s||403===s||"missing_team_param"===t.code||"cancelled"===t.message||"TypeError"===t.name||(0,m.I)()||"pending"===t.message||(console.table(t),(0,c.O)(a,e),console.error(t))},onSuccess:(t,a)=>{(0,c.M)(a,e)},onErrorRetry:(e,t,a,s,i)=>{if("pending"===e.message)return setTimeout(s,3e3);p(e,s,i)}});function w(e,t){let{type:a,projectId:g=null,storeId:u=null,functionName:c=null,edgeConfigId:b=null,edgeInvocationType:m=null,sourceName:p=null,skip:w=!1,granularity:_,start:D,end:y}=e,{isReady:R,team:I}=(0,d.t7)(),{user:S,isNorthstar:C}=(0,l.aF)(),B=(0,i.useToasts)();return(0,s.ZP)(()=>R&&S&&D&&y&&!w&&void 0!==g&&void 0!==c&&(!C||S.defaultTeamId||I)?function(e){let{type:t,projectId:a=null,storeId:s=null,functionName:i=null,edgeConfigId:n=null,edgeInvocationType:d=null,sourceName:l=null,granularity:g,start:u,end:c,teamId:b}=e;return`${r.Pm}${(0,o.c)({type:t,teamId:b,projectId:a,storeId:s,edgeConfigId:n,functionName:i,edgeInvocationType:d,sourceName:l,granularity:g,from:"object"==typeof u?u.toISOString():new Date(u).toISOString(),to:"object"==typeof c?c.toISOString():new Date(c).toISOString()})}`}({type:a,projectId:g,storeId:u,functionName:c,edgeConfigId:b,edgeInvocationType:m,sourceName:p,granularity:_,start:D,end:y,teamId:I?.id}):null,async e=>(function(e){let{data:t,from:a,to:s,team:i,queryContext:o}=e;if("pending"in t)throw Error("pending");let n=[];if(t.data.length)for(let e=0;e<t.data.length;e++)n.push(t.data[e]);let r={workerExecutionAvg:"2022-05-24T00:00:00.000Z",postgresDataStorage:"2023-04-01T00:00:00.000Z",storageRedisTotalDailyAvgStorageInBytes:"2023-04-01T00:00:00.000Z",blobTotalAvgSizeInBytes:"2023-08-01T00:00:00.000Z"},d={bandwidth:"2021-01-26T00:00:09.000Z",requests:"2021-01-26T00:00:09.000Z",invocations:"2021-02-16T00:00:00.000Z",edgeFunctionExecutionUnits:"2021-02-16T00:00:00.000Z",execution:"2021-02-16T00:00:00.000Z",workerInvocations:"2021-10-22T00:00:00.000Z",throttles:"2021-02-16T00:00:00.000Z",buildTime:"2021-02-19T00:00:00.000Z",buildNumber:"2021-02-19T00:00:00.000Z",images:"2021-07-01T00:00:00.000Z",artifactsTaskDuration:"2021-12-14T00:00:00.000Z",artifactsSize:"2021-12-14T00:00:00.000Z",artifactsCount:"2021-12-14T00:00:00.000Z",monitoring:"2023-03-06T00:00:00.000Z",edgeConfigReads:"2023-03-14T00:00:00.000Z",edgeConfigWrites:"2023-03-14T00:00:00.000Z",postgresDatabase:"2023-04-01T00:00:00.000Z",postgresComputeTime:"2023-04-01T00:00:00.000Z",postgresDataTransfer:"2023-04-01T00:00:00.000Z",postgresWrittenData:"2023-04-01T00:00:00.000Z",storageRedisTotalCommands:"2023-04-01T00:00:00.000Z",storageRedisTotalBandwidthInBytes:"2023-04-01T00:00:00.000Z",storageRedisTotalDatabases:"2023-04-01T00:00:00.000Z",cronJobInvocations:"2023-04-01T00:00:00.000Z",dataCacheBandwidth:"2023-05-01T00:00:00.000Z",dataCacheRevalidations:"2023-05-01T00:00:00.000Z",blobTotalAdvancedRequests:"2023-08-01T00:00:00.000Z",blobTotalSimpleRequests:"2023-08-01T00:00:00.000Z",blobTotalGetResponseObjectSizeInBytes:"2023-08-01T00:00:00.000Z",blobTotalStores:"2023-08-01T00:00:00.000Z",logDrainsVolume:"2024-05-02T00:00:00.000Z",...r},l={edge:new Date(t.lastUpdate).getTime(),builds:new Date(t.lastUpdate).getTime(),images:new Date(t.lastUpdate).getTime(),artifacts:new Date(t.lastUpdate).getTime(),monitoring:new Date(t.lastUpdate).getTime(),edgeConfigReads:new Date(t.lastUpdate).getTime(),edgeConfigWrites:new Date(t.lastUpdate).getTime(),postgresDatabase:new Date(t.lastUpdate).getTime(),postgresComputeTime:new Date(t.lastUpdate).getTime(),postgresDataStorage:new Date(t.lastUpdate).getTime(),postgresDataTransfer:new Date(t.lastUpdate).getTime(),postgresWrittenData:new Date(t.lastUpdate).getTime(),storageRedisTotalCommands:new Date(t.lastUpdate).getTime(),storageRedisTotalBandwidthInBytes:new Date(t.lastUpdate).getTime(),storageRedisTotalDailyAvgStorageInBytes:new Date(t.lastUpdate).getTime(),storageRedisTotalDatabases:new Date(t.lastUpdate).getTime(),cronJobInvocations:new Date(t.lastUpdate).getTime(),dataCacheBandwidth:new Date(t.lastUpdate).getTime(),dataCacheRevalidations:new Date(t.lastUpdate).getTime(),blobTotalAdvancedRequests:new Date(t.lastUpdate).getTime(),blobTotalSimpleRequests:new Date(t.lastUpdate).getTime(),blobTotalGetResponseObjectSizeInBytes:new Date(t.lastUpdate).getTime(),blobTotalStores:new Date(t.lastUpdate).getTime(),blobTotalAvgSizeInBytes:new Date(t.lastUpdate).getTime(),logDrainsVolume:new Date(t.lastUpdate).getTime()},g={bandwidth:[],requests:[],invocations:[],edgeFunctionExecutionUnits:[],execution:[],workerInvocations:[],workerExecutionAvg:[],throttles:[],buildTime:[],buildNumber:[],images:[],artifactsTaskDuration:[],artifactsSize:[],artifactsCount:[],monitoring:[],edgeConfigReads:[],edgeConfigWrites:[],postgresDatabase:[],postgresComputeTime:[],postgresDataStorage:[],postgresDataTransfer:[],postgresWrittenData:[],storageRedisTotalCommands:[],storageRedisTotalBandwidthInBytes:[],storageRedisTotalDailyAvgStorageInBytes:[],storageRedisTotalDatabases:[],cronJobInvocations:[],dataCacheBandwidth:[],dataCacheRevalidations:[],blobTotalAvgSizeInBytes:[],blobTotalAdvancedRequests:[],blobTotalSimpleRequests:[],blobTotalGetResponseObjectSizeInBytes:[],blobTotalStores:[],logDrainsVolume:[]},u={bandwidth:[],requests:[],invocations:[],edgeFunctionExecutionUnits:[],execution:[],workerInvocations:[],throttles:[],buildTime:[],buildNumber:[],images:[],artifactsSize:[],artifactsTaskDuration:[],artifactsCount:[],monitoring:[],edgeConfigReads:[],edgeConfigWrites:[],postgresDatabase:[],postgresComputeTime:[],postgresDataTransfer:[],postgresWrittenData:[],storageRedisTotalCommands:[],storageRedisTotalBandwidthInBytes:[],storageRedisTotalDatabases:[],cronJobInvocations:[],dataCacheBandwidth:[],dataCacheRevalidations:[],blobTotalAdvancedRequests:[],blobTotalSimpleRequests:[],blobTotalGetResponseObjectSizeInBytes:[],blobTotalStores:[],logDrainsVolume:[]},c={workerExecutionAvg:[],postgresDataStorage:[],storageRedisTotalDailyAvgStorageInBytes:[],blobTotalAvgSizeInBytes:[]},b={},m={};for(let e=0;e<n.length;e++){let t=n[e];for(let e in T){let a=new Date(t.first_event).getTime(),s={date:new Date(t.date).getTime(),sum:0,0:0,1:0,2:0};if((a||s.date)<Date.parse(d[e]))continue;let i=0;for(let a=0;a<T[e].length;a++){let o=a;s[o]=t[T[e][a]]||0,s.sum+=s[o],t.previous&&(i+=s[o],i-=t.previous[T[e][a]]??0),m[e]=m[e]??{},m[e][a]=(m[e][a]??0)+s[o]}u[e].push(s),b[e]=(b[e]||0)+i}for(let e in f){let a={date:new Date(t.date).getTime(),0:[0,0],1:[0,0],2:[0,0]};for(let s=0;s<f[e].length;s++){let i=(a.date>=Date.parse(r[e])?t[f[e][s]]:void 0)||[0,0];a[s]="number"==typeof i?[i,1]:i}c[e].push(a)}}let p="number"==typeof a?a:a.getTime(),v=p-(("number"==typeof s?s:s.getTime())-p);for(let e in T)new Date(d[e]).getTime()>v&&delete b[e];if(i&&m.buildTime?.[1]&&Math.round(m.buildTime[1]/3600)>=1&&g.buildTime.push({type:"tooManySecondsQueued",secondsQueued:m.buildTime[1],teamSlug:i.slug,warning:!0}),m.invocations?.[1]&&m.invocations[1]>=1&&g.invocations.push({type:"tooManyInvocationErrors",errorCount:m.invocations[1],warning:!0}),m.execution?.[1]&&m.execution[1]>=.01&&g.execution.push({type:"tooManyExecutionErrors",errorTime:m.execution[1],warning:!0}),m.images?.[0]?(!i||i.billing?.plan==="hobby")&&m.images[0]>1e3&&g.images.push({type:"aboveImagesFairUseLimit",optimizedImages:m.images[0],warning:!0}):g.images.push({type:"noImageData",warning:!0}),!i&&"edge"===o.type&&"middleware"===o.edgeInvocationType){let e={sum:0,count:0};for(let t of c.workerExecutionAvg){let{date:a,breakdown:s,...i}=t;for(let[t,a]of Object.values(i))e.sum+=t,e.count+=a}e.sum/e.count>5e4&&g.workerExecutionAvg.push({type:"aboveEdgeMiddlewareCpuTimeFairUseLimit",warning:!0})}let w=Object.entries(h),_=Object.entries({...u,...c});return w.forEach(e=>{let[a,s]=e;_.forEach(e=>{let[i,o]=e;if(i===a){let e=t.data.length-o.length;for(let a=0;a<t.data.slice(e).length;a++){let e=t.data[a].breakdown,i=e[s];e&&i&&(o[a].breakdown=i)}}})}),{from:new Date(a),to:new Date(s),granularity:t.granularity,change:b,started:d,lastUpdate:l,insight:g,...u,...c}})({data:await (0,n.Io)(e,{throwOnHTTPError:!0}),from:D,to:y,team:I,queryContext:{type:a,edgeInvocationType:m}}),{...v(B),...t})}function _(e){let{type:t,skip:a=!1,start:l,end:g,edgeInvocationType:u}=e,{isReady:c,team:b}=(0,d.t7)(),m=(0,i.useToasts)();return(0,s.ZP)(()=>c&&l&&g&&!a?`${r.Pm}${(0,o.c)({type:t,edgeInvocationType:u,teamId:b?.id,from:"object"==typeof l?l.toISOString():new Date(l).toISOString(),to:"object"==typeof g?g.toISOString():new Date(g).toISOString()})}`:null,async e=>(function(e,t,a){let s={workerExecutionAvg:[]};for(let t of e.data){let e=new Date(t.date).getTime();s.workerExecutionAvg.push({date:e,data:t.worker_execution_time_avg})}return{from:new Date(t),to:new Date(a),granularity:e.granularity,lastUpdate:new Date(e.lastUpdate).getTime(),data:s}})(await (0,n.Io)(e),l,g),v(m))}function D(e,t){let{isReady:a,team:i}=(0,d.t7)(),{isLoading:l,can:c}=(0,g.ZP)(),b=!l&&c(u.a.Read,u._.UsageCycle);return(0,s.ZP)(()=>!a||!b||e?.skip?null:`${r.Pm}${(0,o.c)({teamId:i?.id,cycles:"1"})}`,e=>(0,n.Io)(e,{throwOnHTTPError:!0}),t)}},758917:(e,t,a)=>{a.d(t,{_:()=>g,z:()=>u});var s=a(157756),i=a(107366),o=a(478789),n=a(852951),r=a(386029),d=a(13527),l=a(63592);let g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e);t.setDate(t.getDate()-30),t.setUTCHours(0,0,0,0);let a=new Date(e);return a.setUTCHours(23,59,59,999),{start:t,end:a}};function u(e){let{endDatetime:t,startDatetime:a,projectId:g,skip:u=!1}=e,{isReady:c,team:b}=(0,r.t7)(),{user:m,isNorthstar:p}=(0,d.aF)(),{data:T,isLoading:f,error:h}=(0,s.ZP)(()=>!u&&c&&m&&(!p||m.defaultTeamId||b)&&a&&t?`${n.HE}${(0,i.c)({projectId:g,from:"object"==typeof a?a.toISOString():new Date(a).toISOString(),to:"object"==typeof t?t.toISOString():new Date(t).toISOString(),teamId:b?.id})}`:null,async e=>{let t=await (0,o.Io)(e);if(!Array.isArray(t))throw Error("Invalid response");return t},{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:void 0}),v=T??[],w=v.reduce((e,t)=>e+t.count,0);return{data:{rows:v,usage:(0,l.ub)({type:"webAnalyticsEvent",team:b,used:w})},isLoading:f,error:h}}},722399:(e,t,a)=>{a.d(t,{U:()=>o});var s=a(430751),i=a(376912);function o(e){let{children:t,"data-testid":a,...o}=e;return(0,s.jsx)(i.s,{"data-testid":a,...o,isLink:!0,children:t})}},832332:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(981475).l)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 2.5H1.5V5.005H14.5V2.5ZM14.5 6.255H6.245V13.5H13.5C14.0523 13.5 14.5 13.0523 14.5 12.5V6.255ZM4.995 6.255H1.5V12.5C1.5 13.0523 1.94772 13.5 2.5 13.5H4.995V6.255ZM1.5 1H0V2.5V12.5C0 13.8807 1.11929 15 2.5 15H13.5C14.8807 15 16 13.8807 16 12.5V2.5V1H14.5H1.5Z" fill="currentColor"/>')}}]);
//# debugId=ef43ff24-9eac-546f-86e4-9d63bbffb848
